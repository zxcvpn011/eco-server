# Products
- In this section we will discuss some actions to do with products 
  1. creating a new product 
  2. getting products all products and how you can get a spacific number of produect for fast load time
  3. editting products
  4. deleting products

1. creating a new product to create a new product there's some required properties `categories[], productName, productTitle, price, quantity, categories` all properties above is `String` except `categories` is an `Array` contains the catgeories ids - if one of those properties isn't take a value you product will be refused from the server and other optional properties like `categories[], images[], description, newPrice, discount, hasDiscout, dicountAmount, colors[]` properties have `[]` is arrays and there's a boolean property is `hasDiscout` 
   > Tip: there's something to take care about it if the `hasDiscout` property is `true` then `newPrice, discount, dicountAmount` is required if they are not presented in your request your product will be refused
   - Items have a default values is `colors, hasDiscount` the default value of colors is `["#000", "#7BBA3C", "#C21116", "#BFBFBF"]` and `hasDiscount` is `false`
- Now let's move to the next step about how the request is suppose to be and the requirments to save a new product
  - To create a new product follow the next steps
    1. when the user added images you will be need to upload those images first before submitting your form about this part it's will be better to display a loader and don't allow submiiting your form untill the files upload is completed then allow the user to complete the form then submit - when receive your repsonse save the images paths in array called images this array you will use it to send your data 
    2. Send your form data: the request body is suppose to be like the following

```js
fetch("api.localhost/products/create", {
  method: "POST",
  headers: {
    "Content-Type": "application/json; charset=utf-8"
  }
  body: JSON.stringify({ 
    productName: 'a', 
    productTitle: 'b', 
    quantity: 10, 
    price: '100$',
    categories: ["6449902d7d8fc7fbd5903294", "categoryId2"], 
    images: ["/storage/151262", "/storage/1512621551"], 
    description: "some text here",
    newPrice: '75$', //oprional if there's a discount
    discount: "25%",
    dicountAmount: "25$",
    hasDiscout: true, 
    colors: ['white', 'black', 'blue'], 
  })
})
.then(e => e.json())
.then(console.log)

```

- If your request is accepted from the server you will receive a json like the following

```json
{
  "sucsess": true
}
```

- If your request isn't accepted from the server you will receive a json like the following

```json
{
  "err": "error message description"
}
```


2. To get products data there are some options 
   A. getting products for a spacific category
   B. getting all products
   C. loading a spacific number of products

A. To get all products for a spacific categeory you will be need to send the categrory id to this path `/products/categories/:id` here's an example

```js
fetch("api.localhost/products")
.then(e => e.json())
.then(console.log)
```

B. To get all products send your request to `/products`
```js
fetch("api.localhost/products")
.then(e => e.json())
.then(console.log)
```

C. To load a spacific number of products for what ever categories or products just send `skip, top` parameters with your request
```js
fetch("api.localhost/products?skip=0&top=10")
.then(e => e.json())
.then(console.log)
```

- The excepted response for all requests above is array of object contains following data

```json

[
  { 
    "productName": "a", 
    "productTitle": "b", 
    "quantity": 10, 
    "price": "100$",
    "categories": ["dress", "accessories"], 
    "images": ["/storage/151262", "/storage/1512621551"],
    "smallImages": ["/storage/545ds4f5ds-small", "/storage/454545154d1s-small"],//generated by the server we will discess about this images later
    "description": "some text here",
    "newPrice": "75$",
    "discount": "25%",
    "dicountAmount": "25$",
    "hasDiscout": true, 
    "colors": ["white", "black", "blue"],
    "_id": "6449902d7d8fc7fbd5903294",
    "rate": "4.5",//generated on the server by the default to 4.5  
    "inStock": "10",//generated on the server by the default product quantity and getting modified when ordering the product 
    "reviews" : [],//this is an array of users rated that product including commentz and users data and rate this section will be discussed later maybe we create a spacific route to load reviews 
    "orders": 5//this item is used to determine how many times this product ordered
  },
  { 
    "productName": "a", 
    "productTitle": "b", 
    "quantity": 10, 
    "price": "100$",
    "categories": ["dress", "accessories"], 
    "images": ["/storage/151262", "/storage/1512621551"],
    "smallImages": ["/storage/545ds4f5ds-small", "/storage/454545154d1s-small"],//generated by the server we will discess about this images later
    "description": "some text here",
    "newPrice": "75$",
    "discount": "25%",
    "dicountAmount": "25$",
    "hasDiscout": true, 
    "colors": ["white", "black", "blue"],
    "_id": "6449902d7d8fc7fbd5903294",
    "rate": "4.5",//generated on the server by the default to 4.5  when the product created then getting modified depending on the users rate
    "inStock": "10"//generated on the server by the default product quantity and getting modified when ordering the product 
  }
]

```

1. To edit products you will send the `productId` and the data you want to update it but there's somethings to take care about it when there's a discount and the discount edited send the all discount data in you request body `newPrice, discount, hasDiscout, dicountAmount` 
  > Tip: the method of this request is `PUT`

```js
fetch("api.localhost/products/edit/6449902d7d8fc7fbd5903294", {
  method: "PUT",
  headers: {
    "Content-Type": "application/json; charset=utf-8"
  }
  body: JSON.stringify({ 
    quantity: 15, 
    price: '175$',
  })
})
.then(e => e.json())
.then(console.log)

```
- If edited you will receive json like the following
```json
{
  "sucsess": true
}
```

- else you will receive error message

```json
{
  "err": "error message description"
}
```

4. To delete a product just send the product id to this path `/products/delete/:id`
  > Tip: the method of this request is `DELETE`

```js
fetch("api.localhost/products/edit/6449902d7d8fc7fbd5903294", {
  method: "DELETE",
})
.then(e => e.json())
.then(console.log)

```
- Response `{"sucsess": true}` or `{"err": "product doesn't exist"}`